# API连接问题排障指南

## 常见问题

1. **网络错误 (ERR_NETWORK)**
   - 这通常意味着前端无法连接到后端API
   - 可能是CORS错误、API URL配置错误或后端服务不可用

2. **认证错误**
   - 令牌可能无效或过期
   - localStorage可能无法正确存储令牌

## 解决方案

### 环境变量设置

确保正确设置以下环境变量:

```
VITE_API_URL=https://crypto-demo.up.railway.app
```

### Railway部署设置

1. 检查Railway项目的环境变量设置
2. 验证构建命令中是否包含环境变量定义
3. 确保启动命令正确配置

### 本地开发设置

创建`.env.local`文件并包含以下内容:

```
VITE_API_URL=http://localhost:5001
```

### CORS问题

如果遇到CORS错误，请确保:

1. 后端服务正确配置了CORS头
2. 允许的域名包括前端应用的域名
3. 请求包含正确的凭证设置

### 使用Chrome开发者工具排查

1. 打开Chrome开发者工具 (F12)
2. 检查"网络"选项卡中的API请求
3. 查看是否有CORS错误或网络连接问题
4. 验证请求头和响应头是否正确

## 快速修复检查表

- [ ] 验证API URL配置正确
- [ ] 确认后端服务正在运行
- [ ] 检查网络请求是否有CORS错误
- [ ] 验证localStorage是否正常工作
- [ ] 确认认证令牌格式正确 